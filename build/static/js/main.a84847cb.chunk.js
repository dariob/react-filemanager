(this["webpackJsonpreact-filemanager"]=this["webpackJsonpreact-filemanager"]||[]).push([[0],{141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(0),r=n.n(a),c=n(15),o=n.n(c),l=n(90),s=n(7),u=n(50),d=n(17),h={path:[],pathSublist:[],fileList:[],fileListSublist:[],fileListFilter:null,contextMenuVisible:null,contextMenuPosition:[],contextMenuPositionElement:null,selectedFiles:[],selectedFolderSublist:null,loading:!1,loadingSublist:!1,errorMsg:null,visibleDialogCreateFolder:!1,visibleDialogUploadFile:!1,visibleDialogContent:!1,visibleDialogEdit:!1,visibleDialogMove:!1,visibleDialogCopy:!1,visibleDialogRename:!1,fileContentBlobUrl:null,fileUploadProgress:0,fileUploadList:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PATH":return Object.assign({},e,{path:t.value});case"SET_PATH_SUB_LIST":return Object.assign({},e,{pathSublist:t.value});case"ENTER_TO_DIRECTORY":return Object.assign({},e,{path:[].concat(Object(d.a)(e.path),[t.value])});case"ENTER_TO_DIRECTORY_SUB_LIST":return Object.assign({},e,{pathSublist:[].concat(Object(d.a)(e.pathSublist),[t.value])});case"SET_FILE_LIST":return Object.assign({},e,{fileList:t.value.sort((function(e,t){return e.type<t.type?-1:e.name.toLowerCase()>t.name.toLowerCase()}))});case"SET_FILE_LIST_SUB_LIST":return Object.assign({},e,{fileListSublist:t.value.sort((function(e,t){return e.type<t.type?-1:e.name.toLowerCase()>t.name.toLowerCase()}))});case"SET_FILE_LIST_FILTER":return Object.assign({},e,{fileListFilter:t.value});case"SET_CONTEXT_MENU_VISIBLE":return Object.assign({},e,{contextMenuVisible:t.value});case"SET_CONTEXT_MENU_POSITION":return Object.assign({},e,{contextMenuPosition:t.value});case"SET_CONTEXT_MENU_POSITION_ELEMENT":return Object.assign({},e,{contextMenuPositionElement:t.value});case"SET_SELECTED_FILES":return Object.assign({},e,{selectedFiles:t.value.filter((function(e,t,n){return n.map((function(e){return e.name})).indexOf(e.name)===t}))});case"SET_SELECTED_FOLDER_SUB_LIST":return Object.assign({},e,{selectedFolderSublist:t.value});case"TOGGLE_SELECTED_FILE":return Object.assign({},e,{selectedFiles:e.selectedFiles.find((function(e){return e.name===t.value.name}))?e.selectedFiles.filter((function(e){return e.name!==t.value.name})):[].concat(Object(d.a)(e.selectedFiles),[t.value])});case"SET_FILE_UPLOAD_PROGRESS":return Object.assign({},e,{fileUploadProgress:parseInt(t.value||0)});case"SET_LOADING":return Object.assign({},e,{loading:t.value});case"SET_LOADING_SUB_LIST":return Object.assign({},e,{loadingSublist:t.value});case"SET_ERROR_MSG":return Object.assign({},e,{errorMsg:t.value});case"SET_VISIBLE_DIALOG_CREATE_FOLDER":return Object.assign({},e,{visibleDialogCreateFolder:!!t.value});case"SET_VISIBLE_DIALOG_UPLOAD_FILE":return Object.assign({},e,{visibleDialogUploadFile:!!t.value});case"SET_VISIBLE_DIALOG_CONTENT":return Object.assign({},e,{visibleDialogContent:!!t.value});case"SET_VISIBLE_DIALOG_EDIT":return Object.assign({},e,{visibleDialogEdit:!!t.value});case"SET_VISIBLE_DIALOG_MOVE":return Object.assign({},e,{visibleDialogMove:!!t.value});case"SET_VISIBLE_DIALOG_COPY":return Object.assign({},e,{visibleDialogCopy:!!t.value});case"SET_VISIBLE_DIALOG_RENAME":return Object.assign({},e,{visibleDialogRename:!!t.value});case"SET_FILE_UPLOAD_LIST":return Object.assign({},e,{fileUploadList:t.value});case"SET_FILE_CONTENT":return e.fileContentBlobUrl&&URL.revokeObjectURL(e.fileContentBlobUrl),Object.assign({},e,{fileContentBlobUrl:t.value?URL.createObjectURL(t.value):null});default:return e}},b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var p=n(9),O=n(10),v=n(12),m=n(11),x=n(126).parse(window.location.search);console.log(x);var g="/api/drive/"+x.utente_id+"/"+x.room_id;console.log("host",g);var y={url_list:"".concat(g,"/filemanager/list"),url_create_folder:"".concat(g,"/filemanager/dir/create"),url_get_content:"".concat(g,"/filemanager/file/content"),url_download:"".concat(g,"/filemanager/file/content"),url_upload:"".concat(g,"/filemanager/items/upload"),url_remove:"".concat(g,"/filemanager/items/remove"),url_rename:"".concat(g,"/filemanager/item/move"),url_move:"".concat(g,"/filemanager/items/move"),url_copy:"".concat(g,"/filemanager/items/copy"),url_edit:"".concat(g,"/filemanager/file/edit"),url_compress:"".concat(g,"/filemanager/items/compress"),url_extract:"".concat(g,"/filemanager/file/extract"),isEditableFilePattern:/\.(txt|diff?|patch|svg|asc|cnf|cfg|conf|html?|cfm|cgi|aspx?|ini|pl|py|md|css|cs|jsx?|jsp|log|htaccess|htpasswd|gitignore|gitattributes|env|json|atom|eml|rss|markdown|sql|xml|xslt?|sh|rb|as|bat|cmd|cob|for|ftn|frm|frx|inc|lisp|scm|coffee|php[3-6]?|java|c|cbl|go|h|scala|vb|tmpl|lock|go|yml|yaml|tsv|lst)$/i,isImageFilePattern:/\.(jpe?g|gif|bmp|png|svg|tiff?)$/i,isExtractableFilePattern:/\.(gz|tar|rar|g?zip)$/i,actions:{create_folder:!0,move:!0,copy:!0,copy_folder:!0,compress:!0,extract:!0,edit:!0,remove:!0,upload:!0,upload_by_chunks:!0,preview_images:!0}};function S(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return fetch(y.url_remove,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,filenames:t,recursive:n})})}var C={unknown_response:"Unknown error response from connector","TypeError: Failed to fetch":"Cannot get a response from connector."},E=function(e,t){return{xthen:function(t){var n=t.headers.get("content-type"),i=t.headers.get("content-disposition"),a=/(application|text)\/json/.test(n),r=/attachment/.test(i);if(!t.ok){if(a)throw t.json();throw Error(C.unknown_response)}r?t.blob().then((function(t){e(t)})):a&&t.json().then((function(t){if(!t.success)throw new Error;e(t.data)}))},xcatch:function(e){if(!e||!e.then)return t(C[e]||e);e.then((function(e){return t(e.errorMsg||JSON.stringify(e))}))}}},_=function(e){return("/"+e).replace(/\/\//g,"/")},T=function(e){return e=_(e),new Promise((function(t,n){return function(e){return fetch(y.url_list+"?path="+(encodeURIComponent(e)||"/"))}(e).then(E(t,n).xthen).catch(E(t,n).xcatch)}))},k=function(e,t){return e=_(e+"/"+t),new Promise((function(t,n){return function(e){return fetch(y.url_get_content+"?path="+(encodeURIComponent(e)||"/"))}(e).then(E(t,n).xthen).catch(E(t,n).xcatch)}))},L=function(e,t,n){var i=_(e+"/"+t),a=_(e+"/"+n);return new Promise((function(e,t){return function(e,t){return fetch(y.url_rename,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,destination:t})})}(i,a).then(E(e,t).xthen).catch(E(e,t).xcatch)}))},F=function(e,t){return e=_(e),new Promise((function(n,i){return(t||"").trim()?function(e,t){return fetch(y.url_create_folder,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,directory:t})})}(e,t).then(E(n,i).xthen).catch(E(n,i).xcatch):i("Invalid folder name")}))},I=function(e,t,n){return e=_(e),t=_(t),new Promise((function(i,a){return n.length?function(e,t,n){return fetch(y.url_move,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,destination:t,filenames:n})})}(e,t,n).then(E(i,a).xthen).catch(E(i,a).xcatch):a("No files to move")}))},R=function(e,t,n){return e=_(e),t=_(t),new Promise((function(i,a){return n.length?function(e,t,n){return fetch(y.url_copy,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e,destination:t,filenames:n})})}(e,t,n).then(E(i,a).xthen).catch(E(i,a).xcatch):a("No files to copy")}))},w=function(e,t){return e=_(e),new Promise((function(n,i){return t.length?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new FormData;return Object(d.a)(t).forEach((function(e){n.append("file[]",e)})),n.append("path",e),fetch(y.url_upload,{method:"POST",body:n,headers:{path:e}})}(e,t).then(E(n,i).xthen).catch(E(n,i).xcatch):i("No files to upload")}))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"dir"===e.type&&(t.push("open"),"undefined"!==typeof e.compressible?e.compressible&&t.push("compress"):t.push("compress")),"file"===e.type&&(t.push("download"),y.isImageFilePattern.test(e.name)&&t.push("open"),"undefined"!==typeof e.editable?e.editable&&t.push("edit"):y.isEditableFilePattern.test(e.name)&&t.push("edit"),"undefined"!==typeof e.extractable?e.extractable&&t.push("extract"):y.isExtractableFilePattern.test(e.name)&&t.push("extract"),t.push("copy")),t.push("move"),t.push("rename"),t.push("perms"),t.push("remove"),t},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){var n=D(e);t=t.length?t.filter((function(e){return-1!==n.indexOf(e)})):n})),e.length>1&&(t.splice(t.indexOf("open"),t.indexOf("open")>=0),t.splice(t.indexOf("edit"),t.indexOf("edit")>=0),t.splice(t.indexOf("compress"),t.indexOf("compress")>=0),t.splice(t.indexOf("download"),t.indexOf("download")>=0),t.splice(t.indexOf("rename"),t.indexOf("rename")>=0),t.push("compress")),t},P=function(e){var t=Math.log(e)/Math.log(1e3)|0;return+(e/Math.pow(1e3,t)).toFixed(2)+" "+("kMGTPEZY"[t-1]||"")+"B"},N=function(){return function(e,t){var n=t().path;e(te(!0)),e(K([])),T(n.join("/")).then((function(t){e(te(!1)),e(q(t))})).catch((function(t){e(q([])),e({type:"SET_ERROR_MSG",value:t.toString()}),e(te(!1))}))}},B=function(){return function(e,t){var n=t().pathSublist;e(ne(!0)),e(Z(null)),T(n.join("/")).then((function(t){e(ne(!1)),e($(t))})).catch((function(t){e($([])),e({type:"SET_ERROR_MSG",value:t.toString()}),e(ne(!1))}))}},M=function(e){return function(t,n){var i=n().path;t(te(!0)),t(ue(null)),t(le(!0)),k(i.join("/"),e).then((function(e){t(ue(e)),t(te(!1))})).catch((function(e){t({type:"SET_ERROR_MSG",value:e.toString()}),t(te(!1))}))}},G=function(e){return function(t,n){var i=n().path;t(te(!0)),t(ue(null)),t(se(!0)),k(i.join("/"),e).then((function(e){t(ue(e)),t(te(!1))})).catch((function(e){t({type:"SET_ERROR_MSG",value:e.toString()}),t(te(!1))}))}},A=function(e){return function(t,n){var i=n().path,a=e.map((function(e){return e.name}));t(te(!0)),function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e=_(e),new Promise((function(i,a){return t.length?S(e,t,n).then(E(i,a).xthen).catch(E(i,a).xcatch):a("No files to remove")}))}(i.join("/"),a).then((function(e){t(te(!1)),t(N())})).catch((function(e){t({type:"SET_ERROR_MSG",value:e.toString()}),t(te(!1))}))}},W=function(e){return function(t,n){var i=n(),a=i.fileList,r=i.selectedFiles,c=Object(d.a)(r).pop(),o=a.indexOf(a.find((function(e){return e.name===c.name}))),l=a.indexOf(a.find((function(t){return t.name===e.name}))),s=[];s=l>o?a.filter((function(e,t){return a.indexOf(e)<=l&&a.indexOf(e)>=o})):a.filter((function(e,t){return a.indexOf(e)>=l&&a.indexOf(e)<=o})),t(K([].concat(Object(d.a)(r),Object(d.a)(s))))}},V=function(){return function(e,t){var n=t().path;e(Z(null)),e($([])),e(J(Object(d.a)(n))),e(B())}},z=function(){return function(e,t){e(de(0)),e(ae(!1)),e(he([]))}},H=function(){return function(e,t){var n=t().pathSublist;e(J(n.slice(0,-1))),e(B())}},Y=function(e){return{type:"SET_PATH",value:e}},J=function(e){return{type:"SET_PATH_SUB_LIST",value:e}},X=function(e){return function(t,n){t({type:"ENTER_TO_DIRECTORY",value:e}),t(Q(null)),t(N())}},q=function(e){return{type:"SET_FILE_LIST",value:e}},$=function(e){return{type:"SET_FILE_LIST_SUB_LIST",value:e}},K=function(e){return{type:"SET_SELECTED_FILES",value:e}},Z=function(e){return{type:"SET_SELECTED_FOLDER_SUB_LIST",value:e}},Q=function(e){return{type:"SET_FILE_LIST_FILTER",value:e}},ee=function(e){return{type:"SET_CONTEXT_MENU_VISIBLE",value:!!e}},te=function(e){return{type:"SET_LOADING",value:e}},ne=function(e){return{type:"SET_LOADING_SUB_LIST",value:e}},ie=function(e){return{type:"SET_VISIBLE_DIALOG_CREATE_FOLDER",value:!!e}},ae=function(e){return{type:"SET_VISIBLE_DIALOG_UPLOAD_FILE",value:!!e}},re=function(e){return{type:"SET_VISIBLE_DIALOG_RENAME",value:!!e}},ce=function(e){return{type:"SET_VISIBLE_DIALOG_MOVE",value:!!e}},oe=function(e){return{type:"SET_VISIBLE_DIALOG_COPY",value:!!e}},le=function(e){return{type:"SET_VISIBLE_DIALOG_CONTENT",value:!!e}},se=function(e){return{type:"SET_VISIBLE_DIALOG_EDIT",value:!!e}},ue=function(e){return{type:"SET_FILE_CONTENT",value:e}},de=function(e){return{type:"SET_FILE_UPLOAD_PROGRESS",value:e}},he=function(e){return{type:"SET_FILE_UPLOAD_LIST",value:e}},fe=(n(87),n(148)),be=n(184),je=n(185),pe=n(207),Oe=n(65),ve=n.n(Oe),me=n(43),xe=n.n(me),ge=n(42),ye=n.n(ge),Se=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.type,a=e.name,r=e.size,c=e.handleClick,o=e.handleDoubleClick,l=e.handleContextMenu,s={backgroundColor:t?ye.a.A200:null},u="undefined"!==typeof r&&"dir"!==n?P(r):null;return Object(i.jsx)("div",{className:"File",onClick:c,onDoubleClick:o,onContextMenu:l,"data-selected":t,children:Object(i.jsxs)(fe.a,{children:[Object(i.jsx)(be.a,{children:Object(i.jsx)(pe.a,{style:s,children:"dir"===n?Object(i.jsx)(ve.a,{}):Object(i.jsx)(xe.a,{})})}),Object(i.jsx)(je.a,{className:"filename",primary:a,secondary:u})]})})}}]),n}(a.Component),Ce=Object(s.b)((function(e,t){return{filePath:[].concat(Object(d.a)(e.path),[t.name]),isSelected:!!e.selectedFiles.find((function(e){return e.name===t.name}))}}),(function(e,t){return{handleDoubleClick:function(n){"file"!==t.type?e(X(t.name)):y.isEditableFilePattern.test(t.name)||t.editable?e(G(t.name)):y.isImageFilePattern.test(t.name)&&e(M(t.name))},handleContextMenu:function(n){n.preventDefault(),n.stopPropagation();var i,a=n.clientX||n.touches&&n.touches[0].pageX,r=n.clientY||n.touches&&n.touches[0].pageY;n.shiftKey?e(W(t)):e((i=t,function(e,t){var n=t().selectedFiles;-1===n.indexOf(n.find((function(e){return e.name===i.name})))&&e(K([i]))})),e(ee(!0)),e(function(e,t){return{type:"SET_CONTEXT_MENU_POSITION",value:[e,t]}}(a,r))},handleClick:function(n){n.stopPropagation(),n.ctrlKey?e({type:"TOGGLE_SELECTED_FILE",value:t}):n.shiftKey?e(W(t)):e(K([t]))}}}))(Se),Ee=(n(141),function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(i.jsx)("div",{className:"FileListEmptyMessage",children:"No files in this folder"})}}]),n}(a.Component)),_e=Object(s.b)((function(e){return{}}),(function(e){return{}}))(Ee),Te=n(5),ke=n(187),Le=n(186);var Fe=Object(Te.a)((function(e){return{progress:{margin:10*e.spacing.unit}}}))((function(e){var t=e.classes;return Object(i.jsx)(Le.a,{container:!0,justify:"center",children:Object(i.jsx)(ke.a,{className:t.progress,color:"secondary"})})})),Ie=(n(142),function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fileList,n=e.loading,a=t.map((function(e,t){return Object(i.jsx)(Ce,{type:e.type,name:e.name,editable:e.editable,size:e.size},t)}));return Object(i.jsx)("div",{className:"FileList",children:n?Object(i.jsx)(Fe,{}):a.length?a:Object(i.jsx)(_e,{})})}}]),n}(a.Component)),Re=Object(s.b)((function(e){return{fileList:e.fileList.filter((function(t){return!e.fileListFilter||t.name.toLocaleLowerCase().match(e.fileListFilter.toLocaleLowerCase())})),loading:e.loading}}),(function(e){return{handleClick:function(e){}}}))(Ie),we=n(194),De=n(195),Ue=n(48),Pe=n(206),Ne=n(78),Be=n(95),Me=n.n(Be),Ge=n(103),Ae=n(190),We=n(94),Ve=n.n(We),ze=n(188),He=n(189),Ye=n(92),Je=n.n(Ye);var Xe=Object(s.b)((function(e){return{}}),(function(e,t){return{handleClick:function(t){e(ie(!0))}}}))((function(e){var t,n=e.handleClick,a=e.handleClose;return Object(i.jsxs)(ze.a,{onClick:(t=n,function(e){t(),a()}),children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(Je.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Create folder"})]})})),qe=n(93),$e=n.n(qe);var Ke=Object(s.b)((function(e){return{}}),(function(e,t){return{handleClick:function(t){e(ae(!0))}}}))((function(e){var t,n=e.handleClick,a=e.handleClose;return Object(i.jsxs)(ze.a,{onClick:(t=n,function(e){t(),a()}),children:[Object(i.jsx)(He.a,{children:Object(i.jsx)($e.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Upload files"})]})})),Ze=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={anchorEl:null},e.handleClick=function(t){e.setState({anchorEl:t.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this.state.anchorEl;return Object(i.jsxs)("div",{style:{marginLeft:"1em"},children:[Object(i.jsx)(Ae.a,{color:"inherit","aria-label":"More","aria-owns":Boolean(e)?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick,children:Object(i.jsx)(Ve.a,{})}),Object(i.jsxs)(Ge.a,{anchorEl:e,open:Boolean(e),onClose:this.handleClose,children:[Object(i.jsx)(Xe,{handleClose:this.handleClose}),Object(i.jsx)(Ke,{handleClose:this.handleClose})]})]})}}]),n}(r.a.Component),Qe=Object(s.b)((function(e){return{}}),(function(e,t){return{}}))(Ze),et=n(44),tt=n.n(et),nt=n(193),it=(n(143),function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.handleClickPath,a=e.path,r=e.rootTitle,c=e.handleGoBack,o=e.canGoBack,l=Object(i.jsx)("span",{children:">"}),s=Object(i.jsxs)("span",{onClick:function(e){return n(e,-1,a)},"data-index":0,children:[r," ",a.length?l:""]}),u=Object(d.a)(a).pop()||r,h=a.map((function(e,t){return Object(i.jsxs)("span",{"data-index":t,onClick:function(e){return n(e,t,a)},children:[Object(i.jsx)("span",{children:e})," ",a.length-1!==t?l:"","\xa0"]},t)}));return Object(i.jsxs)("div",{className:"BreadcrumbText",children:[Object(i.jsxs)("div",{className:t.lastPath,children:[Object(i.jsx)(nt.a,{onClick:c,color:"inherit",type:"button",style:{display:o?"inline-flex":"none"},children:Object(i.jsx)(tt.a,{})}),u]}),Object(i.jsxs)("div",{className:t.paths,children:[s," ",h]})]})}}]),n}(a.Component)),at=Object(Te.a)((function(e){return{lastPath:{display:"block",[e.breakpoints.up("sm")]:{display:"none"}},paths:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}}}}))(Object(s.b)((function(e){return{}}),(function(e){return{}}))(it));var rt=Object(Te.a)((function(e){return{root:{width:"100%",marginBottom:"4.3em"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:{display:"block",[e.breakpoints.up("sm")]:{display:"block"}},search:{position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ne.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ne.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%",display:"none",[e.breakpoints.up("sm")]:{marginLeft:e.spacing.unit,width:"auto",display:"block"}},searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:{paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("sm")]:{width:100,"&:focus":{width:200}}}}}))(Object(s.b)((function(e){return{value:e.fileListFilter||"",path:e.path,canGoBack:e.path.length}}),(function(e){return{handleChange:function(t){e(Q(t.currentTarget.value))},handleGoBack:function(t){e((function(e,t){var n=t().path;e(Y(n.slice(0,-1))),e(Q(null)),e(N())}))},handleClickPath:function(t,n){e(function(e){return function(t,n){var i=n().path,a=Object(d.a)(i).slice(0,++e);t(Y(a)),t(N()),t(Q(null))}}(n)),t.preventDefault()}}}))((function(e){var t=e.classes,n=e.path,a=e.handleClickPath,r=e.handleGoBack,c=e.canGoBack;return Object(i.jsx)("div",{className:t.root,children:Object(i.jsx)(we.a,{position:"fixed",children:Object(i.jsxs)(De.a,{children:[Object(i.jsx)(Ue.a,{className:t.title,variant:"h6",color:"inherit",noWrap:!0,children:Object(i.jsx)(at,{path:n,handleClickPath:a,handleGoBack:r,canGoBack:c,rootTitle:"FRIDA Drive"})}),Object(i.jsx)("div",{className:t.grow}),Object(i.jsxs)("div",{className:t.search,children:[Object(i.jsx)("div",{className:t.searchIcon,children:Object(i.jsx)(Me.a,{})}),Object(i.jsx)(Pe.a,{placeholder:"Search\u2026",value:e.value,onChange:e.handleChange,classes:{root:t.inputRoot,input:t.inputInput}})]}),Object(i.jsx)(Qe,{})]})})})}))),ct=(n(144),n(69)),ot=n.n(ct);var lt=Object(s.b)((function(e){return{selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClick:function(t,n){"dir"!==n[0].type?e(M(n[0].name)):e(X(n[0].name))}}}))((function(e){var t=e.handleClick,n=e.selectedFiles;return Object(i.jsxs)(ze.a,{onClick:function(e){return t(e,n)},children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(ot.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Open"})]})})),st=n(96),ut=n.n(st);var dt=Object(s.b)((function(e){return{selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClick:function(t,n){e(A(n))}}}))((function(e){var t=e.handleClick,n=e.selectedFiles;return Object(i.jsxs)(ze.a,{onClick:function(e){return t(e,n)},children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(ut.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Remove"})]})})),ht=n(97),ft=n.n(ht);var bt=Object(s.b)((function(e){return{selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClick:function(t,n){e(V()),e(ce(!0))}}}))((function(e){var t=e.handleClick,n=e.selectedFiles;return Object(i.jsxs)(ze.a,{onClick:function(e){return t(e,n)},children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(ft.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Move"})]})})),jt=n(98),pt=n.n(jt);var Ot=Object(s.b)((function(e){return{selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClick:function(t,n){e(V()),e(oe(!0))}}}))((function(e){var t=e.handleClick,n=e.selectedFiles;return Object(i.jsxs)(ze.a,{onClick:function(e){return t(e,n)},children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(pt.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Copy"})]})}));var vt=Object(s.b)((function(e){return{selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClick:function(t,n){e(G(n[0].name))}}}))((function(e){var t=e.handleClick,n=e.selectedFiles;return Object(i.jsxs)(ze.a,{onClick:function(e){return t(e,n)},children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(ot.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Edit"})]})})),mt=n(99),xt=n.n(mt);var gt=Object(s.b)((function(e){return{selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClick:function(t,n){e(re(!0))}}}))((function(e){var t=e.handleClick,n=e.selectedFiles;return Object(i.jsxs)(ze.a,{onClick:function(e){return t(e,n)},children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(xt.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Rename"})]})})),yt=n(100),St=n.n(yt);var Ct=Object(s.b)((function(e){return{selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClick:function(t,n){var i;e((i=n[0].name,function(e,t){var n=t().path;e(te(!0)),k(n.join("/"),i).then((function(t){var n=window.URL.createObjectURL(t),a=window.document.createElement("a");a.href=n,a.setAttribute("download",i),a.click(),window.URL.revokeObjectURL(n),e(te(!1))})).catch((function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(te(!1))}))}))}}}))((function(e){var t=e.handleClick,n=e.selectedFiles;return Object(i.jsxs)(ze.a,{onClick:function(e){return t(e,n)},children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(St.a,{})}),Object(i.jsx)(Ue.a,{variant:"inherit",children:"Download"})]})})),Et=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.acts,n=e.visible,a=e.x,r=e.y,c=t.map((function(e,t){var n;return"open"===e&&(n=Object(i.jsx)(lt,{},t)),"edit"===e&&(n=Object(i.jsx)(vt,{},t)),"copy"===e&&(n=Object(i.jsx)(Ot,{},t)),"move"===e&&(n=Object(i.jsx)(bt,{},t)),"rename"===e&&(n=Object(i.jsx)(gt,{},t)),"download"===e&&(n=Object(i.jsx)(Ct,{},t)),"remove"===e&&(n=Object(i.jsx)(dt,{},t)),n}));return Object(i.jsx)("div",{children:Object(i.jsx)(Ge.a,{anchorReference:"anchorPosition",anchorPosition:{top:r,left:a},transformOrigin:{vertical:"top",horizontal:"left"},open:n,onClose:function(){},PaperProps:{style:{width:170}},children:c})})}}]),n}(a.Component),_t=Object(s.b)((function(e){return{x:e.contextMenuPosition[0]||0,y:e.contextMenuPosition[1]||0,visible:!!e.contextMenuVisible,acts:U(e.selectedFiles)}}),(function(e){return{}}))(Et),Tt=n(205),kt=n(198),Lt=n(197),Ft=n(196),It=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={lastBlobUrl:null,content:"...",loading:!1},e}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(){this.props.blobUrl!==this.state.lastBlobUrl&&(this.setState({lastBlobUrl:this.props.blobUrl}),this.setState({loading:!0}))}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.open;return Object(i.jsx)("div",{style:{marginLeft:"1em"},children:Object(i.jsxs)(Tt.a,{open:n,onClose:t,"aria-labelledby":"form-dialog-content",fullWidth:!0,maxWidth:"sm",children:[Object(i.jsx)(Ft.a,{id:"form-dialog-content",children:"Viewing file "}),Object(i.jsx)(Lt.a,{children:Object(i.jsx)("img",{src:this.props.blobUrl,alt:"",style:{maxWidth:"100%"}})}),Object(i.jsx)(kt.a,{children:Object(i.jsx)(nt.a,{onClick:t,color:"primary",type:"button",children:"Close"})})]})})}}]),n}(a.Component),Rt=Object(s.b)((function(e){return{open:e.visibleDialogContent,blobUrl:e.fileContentBlobUrl}}),(function(e,t){return{handleClose:function(t){e(le(!1))},handleOpen:function(t){e(le(!0))}}}))(It),wt=n(199),Dt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={lastBlobUrl:null,content:null,loading:!1},e}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;this.props.blobUrl!==this.state.lastBlobUrl&&(this.setState({lastBlobUrl:this.props.blobUrl}),this.setState({loading:!0}),this.props.blobUrl&&fetch(this.props.blobUrl).then((function(e){return e.text()})).then((function(t){e.setState({content:t}),e.setState({loading:!1})})))}},{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.handleSave,a=e.open,r=Object(i.jsx)("textarea",{style:{width:"100%",minHeight:"300px"},defaultValue:this.state.content||""});return Object(i.jsx)("div",{children:Object(i.jsxs)(Tt.a,{open:a,onClose:t,"aria-labelledby":"form-dialog-edit",fullWidth:!0,maxWidth:"sm",children:[Object(i.jsx)(Ft.a,{id:"form-dialog-edit",children:"Editing file "}),Object(i.jsx)(Lt.a,{children:Object(i.jsx)(wt.a,{children:this.state.loading?"Loading...":r})}),Object(i.jsxs)(kt.a,{children:[Object(i.jsx)(nt.a,{onClick:t,color:"primary",type:"button",children:"Close"}),Object(i.jsx)(nt.a,{color:"primary",onClick:n,type:"submit",children:"Update"})]})]})})}}]),n}(a.Component),Ut=Object(s.b)((function(e){return{open:e.visibleDialogEdit,blobUrl:e.fileContentBlobUrl}}),(function(e,t){return{handleClose:function(t){e(se(!1))},handleOpen:function(t){e(se(!0))},handleSave:function(e){}}}))(Dt),Pt=n(202),Nt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.handleSave,a=e.value,r=e.open;return Object(i.jsx)(Tt.a,{open:r,onClose:t,"aria-labelledby":"form-dialog-create-folder",fullWidth:!0,maxWidth:"sm",children:Object(i.jsxs)("form",{children:[Object(i.jsx)(Ft.a,{id:"form-dialog-create-folder",children:"Create folder"}),Object(i.jsx)(Lt.a,{children:Object(i.jsx)(Pt.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"Folder name",type:"text",value:a})}),Object(i.jsxs)(kt.a,{children:[Object(i.jsx)(nt.a,{onClick:t,color:"primary",type:"button",children:"Cancel"}),Object(i.jsx)(nt.a,{color:"primary",type:"submit",onClick:n,children:"Save"})]})]})})}}]),n}(a.Component),Bt=Object(s.b)((function(e){return{createFolderName:e.createFolderName,open:e.visibleDialogCreateFolder}}),(function(e,t){return{handleClose:function(t){e(ie(!1))},handleSave:function(t){t.preventDefault();var n,i=t.currentTarget.form.querySelector("input").value;e((n=i,function(e,t){var i=t().path;e(te(!0)),F(i.join("/"),n).then((function(t){e(ie(!1)),e(te(!1)),e(N())})).catch((function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(te(!1))}))}))}}}))(Nt),Mt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={value:""},e}return Object(O.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.realName})}},{key:"handleChange",value:function(e){this.setState({value:e.currentTarget.form.querySelector("input").value})}},{key:"handleSave",value:function(e){this.props.handleSave(e)(this.props.realName,this.state.value)}},{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.handleClose,a=t.open;return Object(i.jsx)(Tt.a,{open:a,onClose:n,"aria-labelledby":"form-dialog-create-folder",fullWidth:!0,maxWidth:"sm",children:Object(i.jsxs)("form",{children:[Object(i.jsx)(Ft.a,{id:"form-dialog-create-folder",children:"Rename"}),Object(i.jsx)(Lt.a,{children:Object(i.jsx)(Pt.a,{autoFocus:!0,fullWidth:!0,margin:"dense",label:"Item name",type:"text",onChange:this.handleChange.bind(this),value:e})}),Object(i.jsxs)(kt.a,{children:[Object(i.jsx)(nt.a,{onClick:n,color:"primary",type:"button",children:"Cancel"}),Object(i.jsx)(nt.a,{color:"primary",type:"submit",onClick:this.handleSave.bind(this),children:"Save"})]})]})})}}]),n}(a.Component),Gt=Object(s.b)((function(e){return{open:e.visibleDialogRename,realName:e.selectedFiles.length?e.selectedFiles[0].name:""}}),(function(e,t){return{handleClose:function(t){e(re(!1))},handleSave:function(t){return function(n,i){var a,r;t.preventDefault(),e((a=n,r=i,function(e,t){var n=t().path;e(te(!0)),L(n.join("/"),a,r).then((function(t){e(re(!1)),e(te(!1)),e(N())})).catch((function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(te(!1))}))}))}}}}))(Mt),At=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.name,a=e.handleClick,r=e.isSelected,c=e.handleDoubleClick,o={backgroundColor:r?ye.a.A200:null};return Object(i.jsx)("div",{className:"File",onClick:a,"data-selected":r,onDoubleClick:c,children:Object(i.jsxs)(fe.a,{children:[Object(i.jsx)(be.a,{children:Object(i.jsx)(pe.a,{style:o,children:"dir"===t?Object(i.jsx)(ve.a,{}):Object(i.jsx)(xe.a,{})})}),Object(i.jsx)(je.a,{primary:n,secondary:""})]})})}}]),n}(a.Component),Wt=Object(s.b)((function(e,t){return{filePath:[].concat(Object(d.a)(e.path),[t.name]),isSelected:e.selectedFolderSublist&&e.selectedFolderSublist.name===t.name}}),(function(e,t){return{handleDoubleClick:function(n){var i;e((i=t.name,function(e,t){e({type:"ENTER_TO_DIRECTORY_SUB_LIST",value:i}),e(B())})),e(Z(null))},handleClick:function(n){n.stopPropagation(),e(Z(t))}}}))(Object(Te.a)((function(e){return{}}))(At)),Vt=(n(145),function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fileList,n=e.loadingSublist,a=t.map((function(e,t){return Object(i.jsx)(Wt,{type:e.type,name:e.name},t)}));return Object(i.jsx)("div",{className:"FileListSublist",children:n?Object(i.jsx)(Fe,{}):a.length?a:Object(i.jsx)(_e,{})})}}]),n}(a.Component)),zt=Object(s.b)((function(e){return{fileList:e.fileListSublist.filter((function(e){return"dir"===e.type})).filter((function(t){return e.path.join("").trim()!==e.pathSublist.join("").trim()||!e.selectedFiles.find((function(e){return e.name===t.name}))})),loadingSublist:e.loadingSublist}}),(function(e){return{}}))(Vt),Ht=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedPath,n=e.handleClose,a=e.handleSave,r=e.open,c=e.selectedFiles,o=e.canGoBack,l=e.canMove,s=e.handleGoBack;return Object(i.jsx)(Tt.a,{open:r,onClose:n,"aria-labelledby":"form-dialog-move",fullWidth:!0,maxWidth:"sm",children:Object(i.jsxs)("form",{children:[Object(i.jsxs)(Ft.a,{id:"form-dialog-move",children:["Move files to ",Object(i.jsx)("small",{style:{color:"grey"},children:t.join("/")})]}),Object(i.jsx)(Lt.a,{children:Object(i.jsx)(zt,{})}),Object(i.jsxs)(kt.a,{children:[Object(i.jsxs)(nt.a,{onClick:s,color:"primary",type:"button",disabled:!o,children:[Object(i.jsx)(tt.a,{})," Go back directory"]}),Object(i.jsx)(nt.a,{onClick:n,color:"primary",type:"button",children:"Cancel"}),Object(i.jsx)(nt.a,{color:"primary",onClick:function(e){return a(e,c)},disabled:!l,type:"submit",children:"Move"})]})]})})}}]),n}(a.Component),Yt=Object(s.b)((function(e){var t=e.path.join("")!==e.pathSublist.join("")+(e.selectedFolderSublist?e.selectedFolderSublist.name:"");return{open:e.visibleDialogMove,selectedFolderSublist:e.selectedFolderSublist,selectedPath:e.selectedFolderSublist?[].concat(Object(d.a)(e.pathSublist),[e.selectedFolderSublist.name]):[],selectedFiles:e.selectedFiles,pathSublist:e.pathSublist,canGoBack:e.pathSublist.length,canMove:e.selectedFolderSublist&&t}}),(function(e,t){return{handleClose:function(t){e(Z(null)),e(ce(!1))},handleSave:function(t,n){var i;e((i=n,function(e,t){var n=t(),a=n.path,r=n.pathSublist,c=n.selectedFolderSublist,o=r.join("/")+"/"+c.name,l=i.map((function(e){return e.name}));e(te(!0)),I(a.join("/"),o,l).then((function(t){e(te(!1)),e(ce(!1)),e(N())})).catch((function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(te(!1))}))}))},handleGoBack:function(t){e(Z(null)),e(H())}}}))(Ht),Jt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedPath,n=e.handleClose,a=e.handleSave,r=e.open,c=e.canGoBack,o=e.canCopy,l=e.selectedFiles,s=e.handleGoBack;return Object(i.jsx)(Tt.a,{open:r,onClose:n,"aria-labelledby":"form-dialog-copy",fullWidth:!0,maxWidth:"sm",children:Object(i.jsxs)("form",{children:[Object(i.jsxs)(Ft.a,{id:"form-dialog-copy",children:["Copy files to ",Object(i.jsx)("small",{style:{color:"grey"},children:t.join("/")})]}),Object(i.jsx)(Lt.a,{children:Object(i.jsx)(zt,{})}),Object(i.jsxs)(kt.a,{children:[Object(i.jsxs)(nt.a,{onClick:s,color:"primary",type:"button",disabled:!c,children:[Object(i.jsx)(tt.a,{})," Go back directory"]}),Object(i.jsx)(nt.a,{onClick:n,color:"primary",type:"button",children:"Cancel"}),Object(i.jsx)(nt.a,{color:"primary",onClick:function(e){return a(e,l)},disabled:!o,type:"submit",children:"Copy"})]})]})})}}]),n}(a.Component),Xt=Object(s.b)((function(e){var t=e.path.join("")!==e.pathSublist.join("")+(e.selectedFolderSublist?e.selectedFolderSublist.name:"");return{open:e.visibleDialogCopy,selectedFolderSublist:e.selectedFolderSublist,selectedPath:e.selectedFolderSublist?[].concat(Object(d.a)(e.pathSublist),[e.selectedFolderSublist.name]):[],canGoBack:e.pathSublist.length,canCopy:e.selectedFolderSublist&&t,selectedFiles:e.selectedFiles}}),(function(e,t){return{handleClose:function(t){e(Z(null)),e(oe(!1))},handleSave:function(t,n){var i;e((i=n,function(e,t){var n=t(),a=n.path,r=n.pathSublist,c=n.selectedFolderSublist,o=r.join("/")+"/"+c.name,l=i.map((function(e){return e.name}));e(te(!0)),R(a.join("/"),o,l).then((function(t){e(te(!1)),e(oe(!1)),e(N())})).catch((function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(te(!1))}))}))},handleGoBack:function(t){e(Z(null)),e(H())}}}))(Jt),qt=n(200),$t=n(192);var Kt=function(e){var t=e.files.map((function(e,t){return Object(i.jsxs)(fe.a,{dense:!0,children:[Object(i.jsx)(He.a,{children:Object(i.jsx)(xe.a,{})}),Object(i.jsx)(je.a,{primary:"".concat(e.name," (").concat(P(e.size),")")})]},t)}));return Object(i.jsx)("div",{children:Object(i.jsx)($t.a,{component:"nav",children:t})})},Zt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"handleReset",value:function(e){this.refs.inputfile.value="",this.props.handleReset(e)}},{key:"render",value:function(){var e=this.props,t=e.fileUploadList,n=e.handleSelectedFiles,a={inputfile:{display:"none"},inputreset:{display:t.length?"inline-flex":"none"}};return Object(i.jsxs)("div",{children:[Object(i.jsxs)("label",{htmlFor:"button-file",children:[Object(i.jsx)("input",{style:a.inputfile,id:"button-file",ref:"inputfile",multiple:!0,type:"file",onChange:n}),Object(i.jsx)(nt.a,{component:"span",variant:"contained",color:"primary",children:"Select Files"})]}),Object(i.jsx)(nt.a,{style:a.inputreset,component:"span",type:"reset",onClick:this.handleReset.bind(this),children:"Clear"}),Object(i.jsx)(Kt,{files:t})]})}}]),n}(a.Component),Qt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleClose,n=e.handleReset,a=e.handleUpload,r=e.open,c=e.canUpload,o=e.fileUploadProgress,l=e.fileUploadList,s=e.handleSelectedFiles;return Object(i.jsx)(Tt.a,{open:r,onClose:t,"aria-labelledby":"form-dialog-upload",fullWidth:!0,maxWidth:"sm",children:Object(i.jsxs)("form",{children:[Object(i.jsx)(Ft.a,{id:"form-dialog-upload",children:"Upload files"}),Object(i.jsxs)(Lt.a,{children:[Object(i.jsx)(Zt,{handleUpload:a,fileUploadList:l,handleSelectedFiles:s,handleReset:n}),c?Object(i.jsx)(qt.a,{variant:"determinate",value:o}):null]}),Object(i.jsxs)(kt.a,{children:[Object(i.jsx)(nt.a,{onClick:t,color:"primary",type:"button",children:"Cancel"}),Object(i.jsx)(nt.a,{color:"primary",onClick:a,disabled:!c,type:"submit",children:"Upload"})]})]})})}}]),n}(a.Component),en=Object(s.b)((function(e){return{open:e.visibleDialogUploadFile,canUpload:e.fileUploadList.length,fileUploadList:e.fileUploadList,fileUploadProgress:e.fileUploadProgress}}),(function(e,t){return{handleClose:function(t){e(z())},handleUpload:function(t){t.preventDefault();var n,i=t.currentTarget.form.querySelector("input[type=file]").files;e((n=i,function(e,t){var i=t().path;e(te(!0)),e(K([])),e(de(50)),w(i.join("/"),n).then((function(t){e(de(100)),setTimeout((function(t){e(z())}),300),e(N())})).catch((function(t){e({type:"SET_ERROR_MSG",value:t.toString()}),e(te(!1))}))}))},handleSelectedFiles:function(t){e(he(Object(d.a)(t.target.files).map((function(e){return{name:e.name,size:e.size}}))))},handleReset:function(t){e(he([]))}}}))(Qt);var tn=function(e){return Object(i.jsxs)("div",{className:"Dialogs",children:[Object(i.jsx)(Rt,{}),Object(i.jsx)(Ut,{}),Object(i.jsx)(Bt,{}),Object(i.jsx)(Yt,{}),Object(i.jsx)(Xt,{}),Object(i.jsx)(Gt,{}),Object(i.jsx)(en,{})]})},nn=n(102),an=n(201),rn=n(204),cn=n(101),on=n.n(cn),ln=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.errorMsg,a=e.handleClose,r=e.open,c=e.notificationDuration;return Object(i.jsx)("div",{children:Object(i.jsx)(rn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,autoHideDuration:c,onClose:a,ContentProps:{"aria-describedby":"message-id"},message:Object(i.jsx)("span",{id:"message-id",children:n}),action:[Object(i.jsx)(Ae.a,{"aria-label":"Close",color:"inherit",className:t.close,onClick:a,children:Object(i.jsx)(on.a,{})},"close")]})})}}]),n}(r.a.Component),sn=Object(s.b)((function(e,t){return{open:!!e.errorMsg,errorMsg:e.errorMsg,notificationDuration:e.notificationDuration||6e4}}),(function(e,t){return{handleClose:function(t){e({type:"SET_ERROR_MSG",value:null})}}}))(Object(Te.a)((function(e){return{close:{padding:e.spacing.unit/2}}}))(ln)),un=Object(nn.a)({palette:{primary:ye.a},typography:{useNextVariants:!0}}),dn=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"render",value:function(){return Object(i.jsx)(an.a,{theme:un,children:Object(i.jsxs)("div",{onClick:this.props.handleHideContextMenu,onContextMenu:this.props.handleHideContextMenu,children:[Object(i.jsx)(rt,{}),Object(i.jsx)(Re,{}),Object(i.jsx)(_t,{}),Object(i.jsx)(sn,{}),Object(i.jsx)(tn,{})]})})}}]),n}(a.Component),hn=Object(s.b)((function(e){return{}}),(function(e){return{init:function(){e(N())},handleHideContextMenu:function(t){"INPUT"===t.target.tagName||/label/i.test(t.target.className)||t.preventDefault(),e(ee(!1))}}}))(dn),fn=(n(146),Object(u.c)(f,Object(u.a)(l.a)));o.a.render(Object(i.jsx)(s.a,{store:fn,children:Object(i.jsx)(hn,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-filemanager",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-filemanager","/service-worker.js");b?(!function(e,t){fetch(e).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):j(t,e)}))}}()},87:function(e,t,n){}},[[147,1,2]]]);
//# sourceMappingURL=main.a84847cb.chunk.js.map